{"componentChunkName":"component---node-modules-pauliescanlon-gatsby-theme-terminal-src-layouts-source-layout-js","path":"/posts/gatsby-remark-sticky-table/","result":{"data":{"mdx":{"id":"6f4cfc49-1d78-53da-95a8-42ce4e63ed0a","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"pinned\": true,\n  \"title\": \"gatsby-remark-sticky-table\",\n  \"tags\": [\"Gatsby\", \"Gatsby Plugins\"],\n  \"date\": \"2019-12-14T00:00:00.000Z\",\n  \"author\": \"Paul Scanlon\",\n  \"featuredImageUrl\": \"https://res.cloudinary.com/www-paulie-dev/image/upload/v1595915540/paulie.dev/2019/11/24/gatsby-remark-sticky-table_wn2ozg.jpg\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"At the time of writing this post \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PaulieScanlon/gatsby-remark-sticky-table\"\n  }), \"gatsby-remark-sticky-table\"), \" is still very much experimental, it is functional and has had mild testing.\"), mdx(\"h4\", null, \"So what is it?\"), mdx(\"p\", null, \"It's a plugin to help make the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<table>\"), \" great again!\"), mdx(\"h2\", null, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"https://gatsby-remark-sticky-table.netlify.com/\"\n  }), \"demo \\uD83E\\uDDF2\")), mdx(\"p\", null, \"My motivation is that HTML \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<table>\"), \" elements used to be all we had, and now i feel they've been forgotten a bit, and with the rise of markdown in tech blogs i want to breath some new life in to an HTML element that used to dominate the web!\"), mdx(\"p\", null, \"There are a number of good examples out there that manage tables, most will either use a sticky header or sticky first column but in markdown you can't really do much...\"), mdx(\"p\", null, \"Well that's what i thought at first, until i started reading about \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/remarkjs/remark\"\n  }), \"remark\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/syntax-tree/unist-util-visit\"\n  }), \"unist-util-visit\"), \" which give me a better understanding of how markdown gets transformed into HTML.\"), mdx(\"p\", null, \"I then stumbled upon this great little tutorial \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/docs/remark-plugin-tutorial/\"\n  }), \"https://www.gatsbyjs.org/docs/remark-plugin-tutorial/\"), \" in short what it shows is how to grab references to nodes from markdown and then modify them before passing them back as HTML\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"const visit = require(\\\"unist-util-visit\\\")\\nconst toString = require(\\\"mdast-util-to-string\\\")\\n\\nmodule.exports = ({ markdownAST }, pluginOptions) => {\\n  visit(markdownAST, \\\"heading\\\", (node) => {\\n    let { depth } = node\\n    if (depth !== 1) return\\n    let text = toString(node)\\n    const HTML = `\\n        <h1 style=\\\"color: rebeccapurple\\\">\\n          ${text}\\n        </h1>\\n      `\\n    node.type = \\\"HTML\\\"\\n    node.children = undefined\\n    node.value = HTML\\n  })\\n\\n  return markdownAST\\n}\\n\")), mdx(\"p\", null, \"In the above code snippet we can \\\"visit\\\" the markdownAST and look for the \\\"heading\\\" node, later on we check to see if the node has a depth of 1, this is an HTML \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<h1>\"), \" if we wanted to visit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<h2>\"), \" element we could look for a depth of 2 ... you get the idea.\"), mdx(\"p\", null, \"Once you've grabbed the HTML element you want to modify you can do whatever you like with it and then return it as HTML.\"), mdx(\"p\", null, \"This in short is how i've created \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PaulieScanlon/gatsby-remark-sticky-table\"\n  }), \"gatsby-remark-sticky-table\"), \".\"), mdx(\"p\", null, \"The next bit is really just css. Once i have a reference to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<thead>\"), \" i can traverse the AST nodes until i find the first \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<th>\"), \" and inline apply a small amount of css to it.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-css\"\n  }), \"position: sticky;\\ndisplay: table-cell;\\nwidth: auto;\\nmin-width: auto;\\nwhite-space: nowrap;\\ntop: 0px;\\nz-index: 2;\\n\")), mdx(\"p\", null, \"This creates the 'sticky' header effect i was after but...\"), mdx(\"p\", null, \"..there's another little trick going on, and that's to wrap everything related to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<table>\"), \" in two additional container divs which allows me to set overflows and heights and allows the 'sticky' header to stick to it's nearest relatively positioned parent.\"), mdx(\"p\", null, \"Each element has also been given a class which should be sufficient for anyone using the plugin to style the table any way they wish.\"), mdx(\"p\", null, \"I'd really appreciate issues, comments or stars on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PaulieScanlon/gatsby-remark-sticky-table\"\n  }), \"Github\"), \" so if you are using this plugin in your project please do let me know what you think \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/PaulieScanlon\"\n  }), \"@pauliescanlon\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"At the time of writing this post  gatsby-remark-sticky-table  is still very much experimental, it is functional and has had mild testing. Soâ€¦","timeToRead":2,"wordCount":{"words":401},"frontmatter":{"title":"gatsby-remark-sticky-table","tags":["Gatsby","Gatsby Plugins"],"date":"2019-12-14T00:00:00.000Z","dateModified":null,"author":"Paul Scanlon","status":null,"isPrivate":null,"url":null,"misc":null,"pinned":true,"featuredImage":null,"featuredImageUrl":"https://res.cloudinary.com/www-paulie-dev/image/upload/v1595915540/paulie.dev/2019/11/24/gatsby-remark-sticky-table_wn2ozg.jpg","embeddedImages":null,"embeddedImageUrls":null},"fields":{"slug":"/posts/gatsby-remark-sticky-table/","owner":"source","parent":"posts"}}},"pageContext":{"id":"6f4cfc49-1d78-53da-95a8-42ce4e63ed0a","prev":{"frontmatter":{"title":"Break the chain - SMS chatbot for awareness in times of COVID-19","status":null},"fields":{"slug":"/posts/break-the-chain/"}},"next":{"frontmatter":{"title":"gatsby-theme-gatstats","status":null},"fields":{"slug":"/posts/gatsby-theme-gatstats/"}},"parent":"posts"}},"staticQueryHashes":["1095393795","1402550803","1469902088"]}